!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=document.querySelector(".profile__info-edit"),o=document.querySelector(".popup__form"),i=document.querySelector(".elements"),u=document.querySelector(".profile__add-button"),a=o.querySelector(".popup__input_name"),s=o.querySelector(".popup__input_job"),c={formSelector:".popup__form",formEdit:"#js-edit",formCreate:"#js-create",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_inactive",inputErrorClass:".popup__input_error",inputInvalid:"popup__input_invalid",errorClass:"popup__input_error_active"};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._template=n,this._handleCardClick=r}var t,n,r;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.cloneNode(!0).children[0]}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__photo").src=this._link,this._element.querySelector(".element__photo").alt=this._name,this._element.querySelector(".element__heading").textContent=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__like").addEventListener("click",(function(){e._like()})),this._element.querySelector(".element__delete").addEventListener("click",(function(){e._deleteCard()})),this._element.querySelector(".element__photo").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"_like",value:function(){this._element.querySelector(".element__like").classList.toggle("element__like_state_active")}},{key:"_deleteCard",value:function(){this._element.remove(),this._element=null}}])&&l(t.prototype,n),r&&l(t,r),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=n.formSelector,this._formElement=document.querySelector(t),this._inputSelector=n.inputSelector,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButtonSelector=n.submitButtonSelector,this._submit=this._formElement.querySelector(this._submitButtonSelector),this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._inputInvalid=n.inputInvalid,this._errorClass=n.errorClass}var t,n,r;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e),e.classList.remove(this._inputInvalid);else{var t=e.validationMessage;e.classList.add(this._inputInvalid),this._showInputError(e,t)}}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._submit.classList.add(this._inactiveButtonClass),this._submit.setAttribute("disabled",!0)):(this._submit.classList.remove(this._inactiveButtonClass),this._submit.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"clearValidation",value:function(){var e=this;this._toggleButtonState(),this._hasInvalidInput()&&(this._formElement.querySelector(this._inputErrorClass).textContent=""),this._inputList.forEach((function(t){t.classList.remove(e._inputInvalid)})),Array.from(this._formElement.querySelectorAll(this._inputErrorClass)).forEach((function(t){t.classList.remove(e._errorClass)}))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&f(t.prototype,n),r&&f(t,r),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t)}var t,n,r;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_is-opened"),document.addEventListener("keyup",this._handleEscClose.bind(this))}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_is-opened"),document.removeEventListener("keyup",this._handleEscClose.bind(this))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("keyup",this._handleEscClose.bind(this)),this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.closePopup()})),this._popup.addEventListener("click",(function(t){t.target===t.currentTarget&&e.closePopup()}))}}])&&d(t.prototype,n),r&&d(t,r),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=g(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e))._popupSelector=document.querySelector(e),n._formSubmit=t,n._form=n._popupSelector.querySelector(".popup__form"),n._inputList=n._popup.querySelectorAll(".popup__input"),n}return t=i,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputObj={},this._inputList.forEach((function(t){e._inputObj[t.name]=t.value})),this._inputObj}},{key:"closePopup",value:function(){v(k(i.prototype),"closePopup",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;v(k(i.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getInputValues()),e.closePopup()}))}}])&&y(t.prototype,n),r&&y(t,r),i}(h);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=L(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e))._title=document.querySelector(t.title),n._image=document.querySelector(t.image),n}return t=i,(n=[{key:"openPopup",value:function(e,t){C(q(i.prototype),"openPopup",this).call(this),this._title.textContent=e,this._image.alt=e,this._image.src=t}}])&&w(t.prototype,n),r&&w(t,r),i}(h);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._containerSelector=n}var t,n,r;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._containerSelector.append(e)}}])&&x(t.prototype,n),r&&x(t,r),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._job=document.querySelector(t.job)}var t,n,r;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.job}}])&&T(t.prototype,n),r&&T(t,r),e}(),V=new I("#js-image",{title:".popup__title_content-heading",image:".popup__image"});V.setEventListeners();var D=new R({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=new p(e,".element-template",V.openPopup.bind(V)).generateCard();D.addItem(t)}},i);D.renderItems();var A=new B({name:".profile__info-name",job:".profile__info-job"}),M=new E("#js-edit",(function(e){A.setUserInfo(e)}));M.setEventListeners();var U=new E("#js-create",(function(e){var t=new p(e,".element-template",V.openPopup.bind(V)).generateCard();i.prepend(t)}));U.setEventListeners(),u.addEventListener("click",(function(){U.openPopup(),N.clearValidation()})),r.addEventListener("click",(function(){M.openPopup();var e=A.getUserInfo();a.value=e.name,s.value=e.job,z.clearValidation()}));var z=new _(c.formEdit,c);z.enableValidation();var N=new _(c.formCreate,c);N.enableValidation()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9wb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy91c2VySW5mby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInBvcHVwT3BlbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImZvcm1FbGVtZW50IiwiY2FyZEVsZW1lbnRzIiwiYWRkQnV0dG9uIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJmb3JtRWRpdCIsImZvcm1DcmVhdGUiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRJbnZhbGlkIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJvcHRpb25zIiwidGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfdGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsImNoaWxkcmVuIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfbGlrZSIsIl9kZWxldGVDYXJkIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsIl9mb3JtU2VsZWN0b3IiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3N1Ym1pdCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9pbnB1dEludmFsaWQiLCJfZXJyb3JDbGFzcyIsImlucHV0SXRlbSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiZXJyb3JJdGVtIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZVBvcHVwIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0IiwiX3BvcHVwU2VsZWN0b3IiLCJfZm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0T2JqIiwiaXRlbSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJkYXRhIiwiX3RpdGxlIiwidGl0bGUiLCJfaW1hZ2UiLCJpbWFnZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyU2VsZWN0b3IiLCJlbGVtZW50IiwiYXBwZW5kIiwiVXNlckluZm8iLCJfam9iIiwiam9iIiwicG9wdXBXaXRoSW1nIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJpbml0aWFsR2FsbGVyeSIsImNhcmRFbGVtZW50Iiwib3BlblBvcHVwIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZ2V0SW5mbyIsImVkaXRQb3B1cCIsInNldFVzZXJJbmZvIiwiY3JlYXRlUG9wdXAiLCJwcmVwZW5kIiwiZm9ybUNyZWF0ZVZhbGlkYXRvciIsImNsZWFyVmFsaWRhdGlvbiIsInVzZXJEYXRhIiwiZ2V0VXNlckluZm8iLCJmb3JtRWRpdFZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxF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VUYsR0FDN0QwSCxFQUFrQkMsbUJBRWxCLElBQU1MLEVBQXNCLElBQUluRixFQUFjbkMsRUFBT0csV0FBWUgsR0FDakVzSCxFQUFvQksiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJyxcclxuICB9XHJcbl07XHJcbmNvbnN0IHBvcHVwT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLWVkaXQnKTtcclxuY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuY29uc3QgY2FyZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfbmFtZScpO1xyXG5jb25zdCBqb2JJbnB1dCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfam9iJyk7XHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGZvcm1FZGl0OiAnI2pzLWVkaXQnLFxyXG4gIGZvcm1DcmVhdGU6ICcjanMtY3JlYXRlJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdCcsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXRfaW5hY3RpdmUnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJy5wb3B1cF9faW5wdXRfZXJyb3InLFxyXG4gIGlucHV0SW52YWxpZDogJ3BvcHVwX19pbnB1dF9pbnZhbGlkJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X2Vycm9yX2FjdGl2ZSdcclxufVxyXG5jb25zdCBwb3B1cEltYWdlV2l0aENvbmZpZyA9IHtcclxuICB0aXRsZTogJy5wb3B1cF9fdGl0bGVfY29udGVudC1oZWFkaW5nJyxcclxuICBpbWFnZTogJy5wb3B1cF9faW1hZ2UnLFxyXG59XHJcbmNvbnN0IHVzZXJEYXRhID0ge1xyXG4gIG5hbWU6ICcucHJvZmlsZV9faW5mby1uYW1lJyxcclxuICBqb2I6ICcucHJvZmlsZV9faW5mby1qb2InLFxyXG59XHJcblxyXG5leHBvcnQgeyBpbml0aWFsQ2FyZHMsIHBvcHVwT3BlbiwgZm9ybUVsZW1lbnQsIGNhcmRFbGVtZW50cywgYWRkQnV0dG9uLCBuYW1lSW5wdXQsIGpvYklucHV0LCBjb25maWcsIHBvcHVwSW1hZ2VXaXRoQ29uZmlnLCB1c2VyRGF0YSB9IiwiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHRlbXBsYXRlLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX25hbWUgPSBvcHRpb25zLm5hbWUsXHJcbiAgICAgIHRoaXMuX2xpbmsgPSBvcHRpb25zLmxpbmssXHJcbiAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGUsXHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGlja1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLmNoaWxkcmVuWzBdO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJykuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJykuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2hlYWRpbmcnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fbGlrZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fZGVsZXRlQ2FyZCgpO1xyXG4gICAgfSlcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBfbGlrZSgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlX3N0YXRlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybVNlbGVjdG9yLCBjb25maWcpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2lucHV0SW52YWxpZCA9IGNvbmZpZy5pbnB1dEludmFsaWQ7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgfVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEl0ZW0sIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRJdGVtLmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0SXRlbSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRJdGVtLmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0SXRlbSkge1xyXG4gICAgY29uc3QgaXNJbnB1dE5vdFZhbGlkID0gIWlucHV0SXRlbS52YWxpZGl0eS52YWxpZDtcclxuICAgIGlmIChpc0lucHV0Tm90VmFsaWQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaW5wdXRJdGVtLnZhbGlkYXRpb25NZXNzYWdlXHJcbiAgICAgIGlucHV0SXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0SW52YWxpZCk7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0SXRlbSwgZXJyb3JNZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0SXRlbSk7XHJcbiAgICAgIGlucHV0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICBjb25zdCBoYXNJbnZhbGlkSW5wdXQgPSB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIHJldHVybiBoYXNJbnZhbGlkSW5wdXQ7XHJcbiAgfVxyXG5cclxuICBjbGVhclZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9pbnB1dEVycm9yQ2xhc3MpLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0SXRlbSkgPT4ge1xyXG4gICAgICBpbnB1dEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEludmFsaWQpO1xyXG5cclxuICAgIH0pXHJcbiAgICBjb25zdCBlcnJvckxpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRFcnJvckNsYXNzKSk7XHJcbiAgICBlcnJvckxpc3QuZm9yRWFjaCgoZXJyb3JJdGVtKSA9PiB7XHJcbiAgICAgIGVycm9ySXRlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEl0ZW0pID0+IHtcclxuICAgICAgaW5wdXRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEl0ZW0pO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgfSlcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfaXMtb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2lzLW9wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pXHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9wb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRPYmogPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX2lucHV0T2JqW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRPYmo7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgc3VwZXIuY2xvc2VQb3B1cCgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfSlcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBkYXRhKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnRpdGxlKTtcclxuICAgIHRoaXMuX2ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmltYWdlKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCh0aXRsZSwgaW1hZ2UpIHtcclxuICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG5cclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aXRsZTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGltYWdlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5qb2IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBkYXRhLmpvYjtcclxuICB9XHJcbn0iLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7IHBvcHVwT3BlbiwgaW5pdGlhbENhcmRzLCBjYXJkRWxlbWVudHMsIGFkZEJ1dHRvbiwgbmFtZUlucHV0LCBqb2JJbnB1dCwgY29uZmlnLCBwb3B1cEltYWdlV2l0aENvbmZpZywgdXNlckRhdGEgfSBmcm9tICcuL3V0aWxzL2NvbnN0YW50cy5qcydcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLmpzJztcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9mb3JtVmFsaWRhdG9yLmpzJ1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuL2NvbXBvbmVudHMvcG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvc2VjdGlvbi5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuL2NvbXBvbmVudHMvdXNlckluZm8uanMnO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjanMtaW1hZ2UnLCBwb3B1cEltYWdlV2l0aENvbmZpZyk7XHJcbnBvcHVwV2l0aEltZy5zZXRFdmVudExpc3RlbmVycygpXHJcbmNvbnN0IGluaXRpYWxHYWxsZXJ5ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcywgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCAnLmVsZW1lbnQtdGVtcGxhdGUnLCBwb3B1cFdpdGhJbWcub3BlblBvcHVwLmJpbmQocG9wdXBXaXRoSW1nKSk7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgaW5pdGlhbEdhbGxlcnkuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfSwgY2FyZEVsZW1lbnRzXHJcbilcclxuXHJcbmluaXRpYWxHYWxsZXJ5LnJlbmRlckl0ZW1zKCk7XHJcblxyXG5jb25zdCBnZXRJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuXHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjanMtZWRpdCcsIChkYXRhKSA9PiB7XHJcbiAgZ2V0SW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxufSk7XHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNqcy1jcmVhdGUnLCAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCAnLmVsZW1lbnQtdGVtcGxhdGUnLCBwb3B1cFdpdGhJbWcub3BlblBvcHVwLmJpbmQocG9wdXBXaXRoSW1nKSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIGNhcmRFbGVtZW50cy5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxufSk7XHJcblxyXG5jcmVhdGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcblxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY3JlYXRlUG9wdXAub3BlblBvcHVwKCk7XHJcbiAgZm9ybUNyZWF0ZVZhbGlkYXRvci5jbGVhclZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG5wb3B1cE9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZWRpdFBvcHVwLm9wZW5Qb3B1cCgpO1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gZ2V0SW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XHJcbiAgZm9ybUVkaXRWYWxpZGF0b3IuY2xlYXJWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5jb25zdCBmb3JtRWRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZy5mb3JtRWRpdCwgY29uZmlnKTtcclxuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZm9ybUNyZWF0ZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZy5mb3JtQ3JlYXRlLCBjb25maWcpO1xyXG5mb3JtQ3JlYXRlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwic291cmNlUm9vdCI6IiJ9